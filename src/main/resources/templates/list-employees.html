<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<!--Video https://www.youtube.com/watch?v=nP7O26fFkjI -->
<!--Add jQuery DataTables https://datatables.net/download/
Step 1. Choose a styling framework -> Bootstrap 4v4 of possibly the world's most widely used styling library.
we need to choose jQuery 3 as well
Step 2. Select packages -> DataTables Enhance HTML tables with advanced interaction controls.
Step 3. Pick a download method -> CDN -> copy the <link> and the <script>
-->
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--Add jQuery database provides searching, sorting, paging out of the box
    We will give reference to the script library at the end of the document
    jQuery database is dependent on the jQuery core library
    provide a reference to the css library - CDN link-->
    <link href="https://cdn.datatables.net/v/bs4/jq-3.7.0/dt-1.13.6/datatables.min.css"
          rel="stylesheet">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
          integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N"
          crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <h2>List Employees</h2>
        <hr/>
        <a th:href="@{/addEmployeeForm}" class="btn btn-primary mb-2">Add Employee</a>
        <!--create an id to the table employee-table -->
        <table class="table table-bordered table-striped" id="employee-table">

            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Department</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="employee: ${employees}">
                    <td th:text="${employee.name}"></td>
                    <td th:text="${employee.email}"></td>
                    <td th:text="${employee.department}"></td>
                    <td>
                        <a th:href="@{/showUpdateForm(employeeId=${employee.getId()})}" class="btn btn-info">Update</a>
                        <a th:href="@{/deleteEmployee(employeeId=${employee.getId()})}" class="btn btn-danger ml-2">Delete</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <!--https://www.w3schools.com/jquery/jquery_get_started.asp
    add also the jQuery core library Google CDN: -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!--Add jQuery datatable library to the application-->
    <script src="https://cdn.datatables.net/v/bs4/jq-3.7.0/dt-1.13.6/datatables.min.js"></script>
    <!--create a script to call jQuery database method
    We will select tge <table> using jQuery Id selector
    We will call jQuery DataTable() method on the <table> -->
    <script>
        $(document).ready(function () {
            $("#employee-table").DataTable({
                'aoColumnDefs': [{
                    'bSortable' : false,
                    'aTargets': [-1]
                }]
            });
        })
    </script>
</body>
</html>